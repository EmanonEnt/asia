<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Data Loading</title>
</head>
<body>
    <h1>Testing Data Loading...</h1>
    <div id="result"></div>

    <script>
        // 直接测试数据加载
        const baseUrl = 'https://emanonent.github.io/asia/content';

        async function testLoad() {
            const result = document.getElementById('result');
            result.innerHTML = '<p>Loading from: ' + baseUrl + '/events.json</p>';

            try {
                const response = await fetch(baseUrl + '/events.json?t=' + Date.now());
                result.innerHTML += '<p>Response status: ' + response.status + '</p>';

                if (!response.ok) {
                    throw new Error('HTTP ' + response.status);
                }

                const data = await response.json();
                result.innerHTML += '<p style="color:green">✓ Data loaded successfully!</p>';
                result.innerHTML += '<p>Events count: ' + (data.events ? data.events.length : 0) + '</p>';
                result.innerHTML += '<p>Posters count: ' + (data.posters ? data.posters.length : 0) + '</p>';

                if (data.events && data.events.length > 0) {
                    result.innerHTML += '<h3>First Event:</h3>';
                    result.innerHTML += '<pre>' + JSON.stringify(data.events[0], null, 2) + '</pre>';
                }

            } catch (error) {
                result.innerHTML += '<p style="color:red">✗ Error: ' + error.message + '</p>';
            }
        }

        testLoad();
    </script>
</body>
</html>