<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - LiveGigs Asia</title>
    <link rel="icon" href="./image/webtop.png" type="image/png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
            background-color: #050505;
            color: #c0c0c0;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 5%;
            z-index: 1000;
            border-bottom: 1px solid rgba(192, 192, 192, 0.2);
        }

        .nav-logo {
            font-size: 28px;
            font-weight: bold;
            color: #8b0000;
            text-decoration: none;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .nav-links {
            display: flex;
            gap: 40px;
            list-style: none;
        }

        .nav-links a {
            color: #c0c0c0;
            text-decoration: none;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #8b0000;
        }

        /* Hero Section - Fixed with drawer effect */
        .hero {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #050505 0%, #1a1a1a 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 0 5%;
        }

        .hero-title {
            font-size: clamp(48px, 10vw, 120px);
            color: #c0c0c0;
            text-transform: uppercase;
            letter-spacing: 8px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .hero-subtitle {
            font-size: clamp(18px, 3vw, 32px);
            color: #8b0000;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        /* Content Wrapper - Drawer effect */
        .content-wrapper {
            position: relative;
            z-index: 10;
            margin-top: 100vh;
            background: #050505;
        }

        /* Carousel Section */
        .carousel-section {
            padding: 80px 0;
            background: #050505;
            position: relative;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            padding: 40px 0;
        }

        .carousel-track-wrapper {
            width: 100%;
            overflow: hidden;
        }

        .carousel-track {
            display: flex;
            gap: 30px;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }

        .carousel-item {
            flex: 0 0 auto;
            width: 400px;
            height: 600px;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .carousel-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(139, 0, 0, 0.3);
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .carousel-item:hover img {
            transform: scale(1.05);
        }

        .carousel-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, 
                rgba(0,0,0,0) 0%, 
                rgba(0,0,0,0.3) 50%,
                rgba(0,0,0,0.8) 100%);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .carousel-item:hover .carousel-overlay {
            opacity: 0;
        }

        .carousel-countdown {
            align-self: flex-end;
            background: rgba(0, 0, 0, 0.7);
            color: #c0c0c0;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            letter-spacing: 1px;
            border: 1px solid rgba(192, 192, 192, 0.3);
            transition: all 0.3s ease;
        }

        .carousel-countdown.today {
            color: #8b0000;
            animation: blink 1s infinite;
        }

        .carousel-countdown.completed {
            color: #666;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.5; }
        }

        .carousel-info {
            text-align: left;
        }

        .carousel-title {
            font-size: 24px;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .carousel-date {
            font-size: 16px;
            color: #c0c0c0;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .carousel-location {
            font-size: 14px;
            color: #8b0000;
            letter-spacing: 1px;
        }

        /* Carousel Navigation */
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(139, 0, 0, 0.8);
            border: 2px solid #c0c0c0;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #c0c0c0;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .carousel-nav:hover {
            background: #8b0000;
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-nav.prev {
            left: 20px;
        }

        .carousel-nav.next {
            right: 20px;
        }

        /* Managed Events Section */
        .managed-section {
            padding: 80px 5%;
            background: #050505;
        }

        .section-title {
            font-size: clamp(32px, 5vw, 48px);
            color: #8b0000;
            text-transform: uppercase;
            letter-spacing: 4px;
            text-align: center;
            margin-bottom: 60px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .event-card {
            background: #0a0a0a;
            border: 1px solid rgba(192, 192, 192, 0.2);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(139, 0, 0, 0.2);
        }

        .event-image-container {
            position: relative;
            width: 100%;
            aspect-ratio: 2/3;
            overflow: hidden;
        }

        .event-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: filter 0.3s ease;
        }

        .event-card:hover .event-image {
            filter: brightness(1.1);
        }

        .event-countdown {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: #c0c0c0;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            letter-spacing: 1px;
            border: 1px solid rgba(192, 192, 192, 0.3);
            z-index: 10;
            transition: all 0.3s ease;
        }

        .event-countdown.today {
            color: #8b0000;
            animation: blink 1s infinite;
        }

        .event-countdown.completed {
            color: #666;
        }

        .event-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .event-card:hover .event-overlay {
            opacity: 0;
        }

        .event-title {
            font-size: 24px;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
            text-align: center;
        }

        .event-date {
            font-size: 16px;
            color: #c0c0c0;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .event-location {
            font-size: 14px;
            color: #8b0000;
            letter-spacing: 1px;
        }

        .event-details {
            padding: 20px;
            text-align: center;
        }

        .event-btn {
            display: inline-block;
            padding: 12px 30px;
            background: transparent;
            color: #c0c0c0;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 14px;
            border: 2px solid #c0c0c0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .event-btn:hover {
            background: #8b0000;
            border-color: #8b0000;
            color: #fff;
        }

        .load-more-container {
            text-align: center;
            margin-top: 60px;
        }

        .load-more-btn {
            padding: 15px 40px;
            background: transparent;
            color: #c0c0c0;
            border: 2px solid #c0c0c0;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .load-more-btn:hover {
            background: #8b0000;
            border-color: #8b0000;
            color: #fff;
        }

        .load-more-btn.hidden {
            display: none;
        }

        /* Posters Section */
        .posters-section {
            padding: 80px 5%;
            background: #050505;
        }

        .posters-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .poster-card {
            position: relative;
            aspect-ratio: 2/3;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .poster-card:hover {
            transform: scale(1.02);
        }

        .poster-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .poster-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .poster-card:hover .poster-overlay {
            opacity: 1;
        }

        .poster-title {
            font-size: 24px;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-align: center;
        }

        .poster-link {
            color: #8b0000;
            text-decoration: none;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid #8b0000;
            padding-bottom: 2px;
            transition: color 0.3s ease;
        }

        .poster-link:hover {
            color: #c0c0c0;
            border-color: #c0c0c0;
        }

        /* Poster 2 Carousel */
        .poster-carousel {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .poster-carousel-track {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .poster-carousel-item {
            min-width: 100%;
            height: 100%;
            position: relative;
        }

        .poster-carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .poster-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #c0c0c0;
            color: #c0c0c0;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease, background 0.3s ease;
            z-index: 10;
        }

        .poster-card:hover .poster-nav {
            opacity: 1;
        }

        .poster-nav:hover {
            background: #8b0000;
        }

        .poster-nav.prev {
            left: 10px;
        }

        .poster-nav.next {
            right: 10px;
        }

        /* Footer */
        footer {
            background: #d0d0d0;
            padding: 50px 5% 40px;
            border-top: 3px solid #8b0000;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-logo {
            font-size: 32px;
            font-weight: bold;
            color: #8b0000;
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 30px;
        }

        .social-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .social-link {
            width: 44px;
            height: 44px;
            background: #050505;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .social-link:hover {
            background: #8b0000;
            transform: translateY(-3px);
        }

        .social-link img {
            width: 22px;
            height: 22px;
            object-fit: contain;
            filter: brightness(0) invert(1);
        }

        .copyright {
            font-size: 14px;
            color: #050505;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }

        .producer-logo {
            height: 35px;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .producer-logo:hover {
            opacity: 1;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .posters-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .posters-grid {
                grid-template-columns: 1fr;
            }

            .carousel-item {
                width: 300px;
                height: 450px;
            }

            .carousel-nav {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .events-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .carousel-item {
                width: 280px;
                height: 420px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="./index.html" class="nav-logo">LiveGigs</a>
        <ul class="nav-links">
            <li><a href="./events.html">Events</a></li>
            <li><a href="./partners.html">Partners</a></li>
            <li><a href="#" onclick="showMembership()">Membership</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <img src="./image/e-hero bg.jpg" alt="Events Hero" class="hero-bg">
        <div class="hero-content">
            <h1 class="hero-title">Events</h1>
            <p class="hero-subtitle">The Shows We Manage</p>
        </div>
    </section>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
        <!-- Carousel Section - 12 Events -->
        <section class="carousel-section">
            <div class="carousel-container">
                <button class="carousel-nav prev" onclick="moveCarousel(-1)">‹</button>
                <button class="carousel-nav next" onclick="moveCarousel(1)">›</button>
                <div class="carousel-track-wrapper">
                    <div class="carousel-track" id="carouselTrack">
                        <!-- Events will be loaded by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Managed Events Section -->
        <section class="managed-section">
            <h2 class="section-title">The Events We've Managed</h2>
            <div class="events-grid" id="eventsGrid">
                <!-- Events will be loaded by JavaScript -->
            </div>
            <div class="load-more-container">
                <button class="load-more-btn" id="loadMoreBtn" onclick="loadMoreEvents()">Load More</button>
            </div>
        </section>

        <!-- Posters Section -->
        <section class="posters-section">
            <div class="posters-grid" id="postersGrid">
                <!-- Posters will be loaded by JavaScript -->
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-logo">LiveGigs<span style="color: #050505;">(</span>Asia<span style="color: #050505;">)</span></div>
                <div class="social-container" id="socialContainer">
                    <!-- Social links loaded by JS -->
                </div>
                <div class="copyright" id="footer-copyright">
                    © 2026 LiveGigs Asia. All rights reserved.
                </div>
                <img src="./image/emanonent-logo.png" alt="EMANON" class="producer-logo" id="footer-producer">
            </div>
        </footer>
    </div>

    <script>
        // ==================== CAROUSEL DATA - 12 EVENTS ====================
        // 6个未举办 + 6个已过期，按日期从近到远排列
        const carouselEvents = [
            // 未举办 (6个)
            {
                id: 1,
                title: "PUNK HEART FESTIVAL",
                date: "2026.09.25",
                location: "Tokyo, Japan",
                image: "./image/1-b-3.jpg",
                link: "https://example.com/event1"
            },
            {
                id: 2,
                title: "REBEL SOUND TOUR",
                date: "2026.10.15",
                location: "Seoul, Korea",
                image: "./image/1-b-2.jpg",
                link: "https://example.com/event2"
            },
            {
                id: 3,
                title: "UNDERGROUND VIBES",
                date: "2026.11.03",
                location: "Taipei, Taiwan",
                image: "./image/thenonameanti-.jpg",
                link: ""
            },
            {
                id: 4,
                title: "NOISE REVOLUTION",
                date: "2026.12.12",
                location: "Hong Kong",
                image: "./image/punkheartbanner.jpg",
                link: "https://example.com/event4"
            },
            {
                id: 5,
                title: "S.E.A TOUR 2026",
                date: "2027.01.20",
                location: "Bangkok, Thailand",
                image: "./image/1-b-3.jpg",
                link: "https://example.com/event5"
            },
            {
                id: 6,
                title: "CHAOS THEORY LIVE",
                date: "2027.02.28",
                location: "Singapore",
                image: "./image/1-b-2.jpg",
                link: ""
            },
            // 已过期 (6个)
            {
                id: 7,
                title: "ECHOES OF REBELLION",
                date: "2025.08.15",
                location: "Osaka, Japan",
                image: "./image/thenonameanti-.jpg",
                link: "https://example.com/past1",
                expired: true
            },
            {
                id: 8,
                title: "DARK WAVE NIGHT",
                date: "2025.07.22",
                location: "Manila, Philippines",
                image: "./image/punkheartbanner.jpg",
                link: "",
                expired: true
            },
            {
                id: 9,
                title: "INDUSTRIAL AGE",
                date: "2025.06.10",
                location: "Kuala Lumpur, Malaysia",
                image: "./image/1-b-3.jpg",
                link: "https://example.com/past3",
                expired: true
            },
            {
                id: 10,
                title: "POST PUNK REVIVAL",
                date: "2025.05.18",
                location: "Jakarta, Indonesia",
                image: "./image/1-b-2.jpg",
                link: "",
                expired: true
            },
            {
                id: 11,
                title: "ALTERNATIVE STORM",
                date: "2025.04.05",
                location: "Ho Chi Minh, Vietnam",
                image: "./image/thenonameanti-.jpg",
                link: "https://example.com/past5",
                expired: true
            },
            {
                id: 12,
                title: "NEW WAVE FEST",
                date: "2025.03.20",
                location: "Beijing, China",
                image: "./image/punkheartbanner.jpg",
                link: "",
                expired: true
            }
        ];

        // ==================== MANAGED EVENTS DATA ====================
        const managedEvents = [
            {
                id: 1,
                title: "PUNK HEART",
                date: "2026.09.25",
                location: "Tokyo, Japan",
                image: "./image/1-b-3.jpg",
                link: "https://example.com/punkheart",
                countdown: true
            },
            {
                id: 2,
                title: "REBEL YELL",
                date: "2026.09.27",
                location: "Osaka, Japan",
                image: "./image/1-b-2.jpg",
                link: "https://example.com/rebelyell",
                countdown: true
            },
            {
                id: 3,
                title: "UNDERGROUND",
                date: "2026.10.05",
                location: "Seoul, Korea",
                image: "./image/thenonameanti-.jpg",
                link: "https://example.com/underground",
                countdown: true
            },
            {
                id: 4,
                title: "NIGHT STALKER",
                date: "2025.12.20",
                location: "Taipei, Taiwan",
                image: "./image/punkheartbanner.jpg",
                link: "https://example.com/nightstalker",
                countdown: true,
                expired: true
            }
        ];

        // ==================== POSTERS DATA ====================
        const postersData = [
            {
                id: 1,
                title: "LiveGigs Asia",
                image: "./image/livegigscn1.png",
                link: "./index.html"
            },
            {
                id: 2,
                type: "carousel",
                items: [
                    { image: "./image/2-old1.jpg", title: "Past Gigs", link: "" },
                    { image: "./image/1-b-2.jpg", title: "Gallery", link: "" },
                    { image: "./image/1-b-3.jpg", title: "Memories", link: "" },
                    { image: "./image/thenonameanti-.jpg", title: "Archive", link: "" },
                    { image: "./image/punkheartbanner.jpg", title: "History", link: "" }
                ]
            },
            {
                id: 3,
                title: "S.E.A Tour",
                image: "./image/1-b-3.jpg",
                link: "./partners.html"
            }
        ];

        // ==================== FOOTER DATA ====================
        const footerData = {
            copyright: "© 2026 LiveGigs Asia. All rights reserved.",
            social: [
                { name: "Facebook", icon: "facebook", link: "https://facebook.com/livegigsasia" },
                { name: "Instagram", icon: "instagram", link: "https://instagram.com/livegigsasia" },
                { name: "YouTube", icon: "youtube", link: "https://youtube.com/livegigsasia" },
                { name: "X", icon: "x", link: "https://x.com/xrebooking" }
            ]
        };

        // ==================== COUNTDOWN UTILS ====================
        function getDaysUntil(dateStr) {
            const target = new Date(dateStr.replace(/\./g, '-'));
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            target.setHours(0, 0, 0, 0);
            const diff = target - today;
            const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
            return days;
        }

        function getCountdownText(dateStr, expired = false) {
            if (expired) return { text: "COMPLETED", class: "completed" };

            const days = getDaysUntil(dateStr);
            if (days < 0) return { text: "COMPLETED", class: "completed" };
            if (days === 0) return { text: "TODAY", class: "today" };
            return { text: days + " DAYS", class: "" };
        }

        // ==================== CAROUSEL LOGIC ====================
        let carouselPosition = 0;
        let isPaused = false;
        let autoScrollInterval;
        let isAccelerated = false;
        const itemWidth = 430; // 400px + 30px gap
        const totalItems = carouselEvents.length;
        let clonedCount = 0;

        function initCarousel() {
            const track = document.getElementById('carouselTrack');

            // 创建无缝循环：原始项目 + 克隆前3个 + 克隆后3个
            const itemsToClone = 3;

            // 克隆最后3个放到前面
            for (let i = totalItems - itemsToClone; i < totalItems; i++) {
                const item = createCarouselItem(carouselEvents[i]);
                item.classList.add('clone');
                track.appendChild(item);
                clonedCount++;
            }

            // 原始项目
            carouselEvents.forEach(event => {
                track.appendChild(createCarouselItem(event));
            });

            // 克隆前3个放到后面
            for (let i = 0; i < itemsToClone; i++) {
                const item = createCarouselItem(carouselEvents[i]);
                item.classList.add('clone');
                track.appendChild(item);
                clonedCount++;
            }

            // 设置初始位置到第一个真实项目
            carouselPosition = itemsToClone * itemWidth;
            track.style.transform = `translateX(-${carouselPosition}px)`;

            // 启动自动滚动
            startAutoScroll();

            // 悬停控制
            const container = document.querySelector('.carousel-container');
            container.addEventListener('mouseenter', () => {
                isPaused = true;
                stopAutoScroll();
            });
            container.addEventListener('mouseleave', () => {
                isPaused = false;
                startAutoScroll();
            });
        }

        function createCarouselItem(event) {
            const div = document.createElement('div');
            div.className = 'carousel-item';
            if (event.link) {
                div.onclick = () => window.open(event.link, '_blank');
            }

            const countdown = getCountdownText(event.date, event.expired);

            div.innerHTML = `
                <img src="${event.image}" alt="${event.title}" onerror="this.src='./image/1-b-3.jpg'">
                <div class="carousel-overlay">
                    <div class="carousel-countdown ${countdown.class}">${countdown.text}</div>
                    <div class="carousel-info">
                        <div class="carousel-title">${event.title}</div>
                        <div class="carousel-date">${event.date}</div>
                        <div class="carousel-location">${event.location}</div>
                    </div>
                </div>
            `;
            return div;
        }

        function startAutoScroll() {
            if (autoScrollInterval) clearInterval(autoScrollInterval);
            const speed = isAccelerated ? 20 : 50; // 加速时更快
            autoScrollInterval = setInterval(() => {
                if (!isPaused) {
                    carouselPosition += 1;
                    checkLoop();
                    updateCarousel();
                }
            }, speed);
        }

        function stopAutoScroll() {
            if (autoScrollInterval) {
                clearInterval(autoScrollInterval);
                autoScrollInterval = null;
            }
        }

        function moveCarousel(direction) {
            isAccelerated = true;
            stopAutoScroll();

            // 加速滚动：每次移动一个项目宽度
            const moveAmount = itemWidth;
            carouselPosition += direction * moveAmount;

            checkLoop();
            updateCarousel();

            // 300ms后恢复正常速度
            setTimeout(() => {
                isAccelerated = false;
                if (!isPaused) startAutoScroll();
            }, 300);
        }

        function checkLoop() {
            const track = document.getElementById('carouselTrack');
            const maxPosition = (totalItems + 3) * itemWidth;
            const minPosition = 0;

            // 如果滚动到克隆区域，无缝跳转到真实区域
            if (carouselPosition >= maxPosition) {
                carouselPosition = 3 * itemWidth + (carouselPosition - maxPosition);
                track.style.transition = 'none';
                track.style.transform = `translateX(-${carouselPosition}px)`;
                // 强制重绘
                track.offsetHeight;
                track.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            } else if (carouselPosition <= minPosition) {
                carouselPosition = totalItems * itemWidth + carouselPosition;
                track.style.transition = 'none';
                track.style.transform = `translateX(-${carouselPosition}px)`;
                track.offsetHeight;
                track.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            }
        }

        function updateCarousel() {
            const track = document.getElementById('carouselTrack');
            track.style.transform = `translateX(-${carouselPosition}px)`;
        }

        // ==================== MANAGED EVENTS ====================
        let visibleEvents = 3;

        function initManagedEvents() {
            renderManagedEvents();
            updateLoadMoreButton();
        }

        function renderManagedEvents() {
            const grid = document.getElementById('eventsGrid');
            grid.innerHTML = '';

            managedEvents.slice(0, visibleEvents).forEach(event => {
                const card = createEventCard(event);
                grid.appendChild(card);
            });
        }

        function createEventCard(event) {
            const div = document.createElement('div');
            div.className = 'event-card';

            const countdown = getCountdownText(event.date, event.expired);

            div.innerHTML = `
                <div class="event-image-container">
                    <img src="${event.image}" alt="${event.title}" class="event-image" onerror="this.src='./image/1-b-3.jpg'">
                    <div class="event-countdown ${countdown.class}">${countdown.text}</div>
                    <div class="event-overlay">
                        <div class="event-title">${event.title}</div>
                        <div class="event-date">${event.date}</div>
                        <div class="event-location">${event.location}</div>
                    </div>
                </div>
                <div class="event-details">
                    <a href="${event.link}" class="event-btn" target="_blank" ${!event.link ? 'style="pointer-events:none;opacity:0.5;"' : ''}>View Details →</a>
                </div>
            `;
            return div;
        }

        function updateLoadMoreButton() {
            const btn = document.getElementById('loadMoreBtn');
            if (managedEvents.length <= 3 || visibleEvents >= managedEvents.length) {
                btn.classList.add('hidden');
            } else {
                btn.classList.remove('hidden');
            }
        }

        function loadMoreEvents() {
            visibleEvents += 3;
            renderManagedEvents();
            updateLoadMoreButton();
        }

        // ==================== POSTERS ====================
        function initPosters() {
            const grid = document.getElementById('postersGrid');

            postersData.forEach((poster, index) => {
                const card = document.createElement('div');
                card.className = 'poster-card';

                if (poster.type === 'carousel') {
                    // Poster 2 - Carousel
                    let currentSlide = 0;
                    card.innerHTML = `
                        <div class="poster-carousel" id="poster-carousel-${index}">
                            <div class="poster-carousel-track">
                                ${poster.items.map(item => `
                                    <div class="poster-carousel-item">
                                        <img src="${item.image}" alt="${item.title}" onerror="this.src='./image/1-b-3.jpg'">
                                    </div>
                                `).join('')}
                            </div>
                            <button class="poster-nav prev" onclick="movePosterCarousel(${index}, -1)">‹</button>
                            <button class="poster-nav next" onclick="movePosterCarousel(${index}, 1)">›</button>
                        </div>
                        <div class="poster-overlay">
                            <div class="poster-title">${poster.items[0].title}</div>
                        </div>
                    `;

                    // Auto slide poster 2
                    setInterval(() => {
                        movePosterCarousel(index, 1);
                    }, 4000);
                } else {
                    // Regular poster
                    card.innerHTML = `
                        <img src="${poster.image}" alt="${poster.title}" onerror="this.src='./image/1-b-3.jpg'">
                        <div class="poster-overlay">
                            <div class="poster-title">${poster.title}</div>
                            <a href="${poster.link}" class="poster-link" target="_blank">View Details →</a>
                        </div>
                    `;
                }

                grid.appendChild(card);
            });
        }

        function movePosterCarousel(index, direction) {
            const carousel = document.getElementById(`poster-carousel-${index}`);
            if (!carousel) return;

            const track = carousel.querySelector('.poster-carousel-track');
            const items = postersData[index].items;
            let currentSlide = parseInt(track.dataset.slide || '0');

            currentSlide = (currentSlide + direction + items.length) % items.length;
            track.dataset.slide = currentSlide;
            track.style.transform = `translateX(-${currentSlide * 100}%)`;

            // Update title
            const title = carousel.nextElementSibling;
            if (title && title.classList.contains('poster-overlay')) {
                const titleText = title.querySelector('.poster-title');
                if (titleText) titleText.textContent = items[currentSlide].title;
            }
        }

        // ==================== FOOTER ====================
        function initFooter() {
            // Copyright
            document.getElementById('footer-copyright').textContent = footerData.copyright;

            // Social links
            const container = document.getElementById('socialContainer');
            container.innerHTML = '';

            footerData.social.forEach(social => {
                const link = document.createElement('a');
                link.className = 'social-link';
                link.href = social.link;
                link.target = '_blank';
                link.title = social.name;

                // SVG icons
                const icons = {
                    facebook: '<svg viewBox="0 0 24 24" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',
                    instagram: '<svg viewBox="0 0 24 24" fill="white"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>',
                    youtube: '<svg viewBox="0 0 24 24" fill="white"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>',
                    x: '<svg viewBox="0 0 24 24" fill="white"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',
                    weibo: '<svg viewBox="0 0 24 24" fill="white"><path d="M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.259-2.609 2.759-5.047 6.74-5.441 3.979-.394 7.413 1.404 7.671 4.018.259 2.6-2.759 5.049-6.739 5.443zM9.05 17.219c-.384.616-1.208.884-1.829.602-.612-.279-.793-.991-.406-1.593.379-.595 1.176-.861 1.793-.601.622.263.82.972.442 1.592zm1.27-1.627c-.141.237-.449.353-.689.253-.236-.09-.313-.361-.177-.586.138-.227.436-.346.672-.24.239.09.315.36.194.573zm.176-2.719c-1.893-.493-4.033.45-4.857 2.118-.836 1.704-.026 3.591 1.886 4.21 1.983.64 4.318-.341 5.132-2.179.8-1.793-.201-3.642-2.161-4.149zm7.563-1.224c-.346-.105-.579-.18-.401-.649.386-1.02.426-1.899.003-2.525-.793-1.17-2.966-1.109-5.419-.031 0 0-.777.34-.578-.271.381-1.205.324-2.213-.27-2.8-1.348-1.33-4.937.045-8.013 3.073C1.353 10.476 0 12.555 0 14.359c0 3.457 4.439 5.56 8.783 5.56 5.691 0 9.479-3.307 9.479-5.929 0-1.587-1.339-2.486-2.204-2.741z"/></svg>',
                    wechat: '<svg viewBox="0 0 24 24" fill="white"><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 0 1-.023-.156.49.49 0 0 1 .201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.97-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z"/></svg>',
                    xiaohongshu: '<svg viewBox="0 0 24 24" fill="white"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4.615 14.615h-2.77v-3.077h-3.69v3.077h-2.77V7.385h2.77v3.077h3.69V7.385h2.77v9.23z"/></svg>'
                };

                link.innerHTML = icons[social.icon] || icons.facebook;
                container.appendChild(link);
            });
        }

        // ==================== MEMBERSHIP POPUP ====================
        function showMembership() {
            alert('Membership form coming soon!');
        }

        // ==================== INITIALIZE ====================
        document.addEventListener('DOMContentLoaded', () => {
            initCarousel();
            initManagedEvents();
            initPosters();
            initFooter();
        });
    </script>
</body>
</html>
